startup_message off
vbell off
msgminwait 0
msgwait 2

defscrollback 2000

# Never, ever turn this off.
autodetach on
# If a window goes unresponsive, don't block the whole session waiting for it.
defnonblock on

# 256 color xterm
attrcolor b ".I"
termcapinfo xterm 'Co#256:AB=\E[48;5;%dm:AF=\E[38;5;%dm'
defbce "on"
term "xterm"

bufferfile ~/temp/screen-exchange

# Stop using alternate screen (for scrollback) - does it work ?
# But it is crappy since the scrollback is then shared amond EACH session
# So, I disabled it...
# termcapinfo xterm ti@:te@


# Make shift-PgUp and shift-PgDn work like they do in xterm.  (Note that this
# requires xterm to be configured to pass those keys through, and not try to
# act on them itself.)
# Does NOT work with PuTTY :/
bindkey "^[[5;2~" eval "copy" "stuff ^u"
bindkey -m "^[[5;2~" stuff ^u
bindkey -m "^[[6;2~" stuff ^d


# Add stuff to xterm (and cousins) title bars.  This is a moderate abuse of the
# hardstatus feature--it just puts the hardstatus stuff into an xterm title
# bar.
# Notes: 1/ works w/ most terminals. 2/ Fallback to user@host if fail
termcapinfo xterm*|Eterm|mlterm 'hs:ts=\E]0;:fs=\007:ds=\E]0;screen\007'
defhstatus "screen  (t) | $USER@H"
hardstatus off

# Give me some info at the bottom of the screen.  Since hardstatus is in use by
# the above xterm title hack, the only source of information left is the
# caption that normally only gets displayed if you have split windows.
# e.g.:
# 11:50|Mon|Jan 06|aragorn f  3$ mutt  4$ centericq  5$* less  6-&!$ man  7$ xe
# (Current window is in reverse bold.)
# See bottom of file for more complete description.

#ORIGINAL
#caption always "%?%F%{-b bc}%:%{-b bb}%?%C|%D|%M %d|%H|%1`%?%F%{+u wb}%? %L=%-Lw%45>%{+b by}%n%f* %t%{-}%+Lw%-0<"

caption always "%?%F%{-bu GK}%:%{-bu KK}%?|%`| %?%F%{+u rK}%?%H%?%F%{-bu GK}%:%{-bu KK}%? |%1`%?%F%{-bu YK}%? %L=%-Lw%45>%{kM}%n%f* %t%{-}%+Lw%-0<"

# Backtick is for the %` in caption or hardstatus. This one displays the session name.
backtick 0 30 30 sh -c 'screen -ls | grep --color=no -o "$PPID[^[:space:]]*"'

# Make screen messages stand out a little more - black on bright green.
sorendition "+b kG"

# Variants on Sven's custom messages.
activity "%c activity -> %n%f %t"
bell "%c bell -> %n%f %t^G"
vbell_msg " *beep* "

# Do NOT use the function keys to switch among windows.
# (who does that anyway ??)
bindkey -k k1
bindkey -k k2
bindkey -k k3
bindkey -k k4
bindkey -k k5
bindkey -k k6
bindkey -k k7
bindkey -k k8
bindkey -k k9
bindkey -k k;
bindkey -k F1
bindkey -k F2
bindkey -k F3
bindkey -k F4
bindkey -k F5
bindkey -k F6
bindkey -k F7
bindkey -k F1
bindkey -k F9

bindkey -k f1
bindkey -k f2
bindkey -k f3
bindkey -k f4
bindkey -k f5
bindkey -k f6
bindkey -k f7
bindkey -k f8
bindkey -k f9

bindkey -m "^[[11~" select 1
bindkey -m "^[[12~" select 2

# always create from screen 1
bind c screen 1


#remove some stupid / dangerous key bindings
bind k
bind ^k
bind .
bind ^\
bind \\
bind ^h
bind h
